{"diagram":{"elements":{"comments":[],"plugins":{},"elements":{"TLVEwgaSTW535056":{"textBlock":[],"points":[{"x":2310.4761872972763,"y":4388.6175608449175},{"x":2131.5,"y":4388.6175608449175}],"dataAttributes":[],"props":{"zindex":140},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2310.4761872972763,"y":4233.033934754212,"angle":4.71238898038469,"id":"VdxoucZHnZ117196"},"id":"TLVEwgaSTW535056","text":"","to":{"x":2131.5,"y":4544.201186935622,"angle":1.570796326794897,"id":"xqnDQFaThh098085"},"locked":false,"group":""},"KKJQNQvgHV820777":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":47,"y":"0"},"text":"RedeemPoolItemInventoryModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-47","y":47},"text":"redeemPoolId:IdentifierId&lt;Long&gt;<br>redeemPoolItemId:Identifier&lt;Long&gt;<br>inventory:Inventory","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":66,"w":245,"x":3665.2381243024556,"h":110,"y":3116.1450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":47},{"x":"w","action":"line","y":47}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"KKJQNQvgHV820777","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"bwxHtcILiE576503":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"修改Activity基本信息命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/142","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>name:String<br>description:String<br>images:List&lt;String&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/142","y":"(h-30)*79/142+30"},"text":"1. 名称不能超过10字符<br>2. 描述不能超过50字符<br>3. 图片不能超过3张","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":8,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2479,"h":172,"y":127,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*79/142+30"},{"x":"w","action":"line","y":"(h-30)*79/142+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"bwxHtcILiE576503","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"WlapsdMVpW488970":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":2574.833333333333,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":97},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"WlapsdMVpW488970","text":"","to":{"x":2574.833333333333,"y":1420.3549202262584,"angle":1.570796326794897,"id":"KfzNpFdMom006571"},"locked":false,"group":""},"HhWEhyuRCL509065":{"textBlock":[],"points":[{"x":794,"y":3989.851198865221},{"x":794,"y":3989.851198865221}],"dataAttributes":[],"props":{"zindex":130},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":794,"y":3857.5678695084207,"angle":4.71238898038469,"id":"QvaTqhTNDK953725"},"id":"HhWEhyuRCL509065","text":"","to":{"x":794,"y":4122.134528222021,"angle":1.570796326794897,"id":"yOtCMNJMfD664830"},"locked":false,"group":""},"YcrrBpTgNZ719239":{"textBlock":[],"points":[{"x":1002,"y":2943.322539886871},{"x":886.5,"y":2943.322539886871}],"dataAttributes":[],"props":{"zindex":111},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1002,"y":2750,"angle":4.71238898038469,"id":"lLuvoOvOTF811240"},"id":"YcrrBpTgNZ719239","text":"","to":{"x":886.5,"y":3136.6450797737416,"angle":1.570796326794897,"id":"GNBGegtEqs768938"},"locked":false,"group":""},"RwizYdqDFa234946":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">修改DrawItem基本信息命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/126","y":30},"text":"<div>drawPoolId:IdentifierId&lt;Long&gt;<br>drawPoolItemId:Identifier&lt;Long&gt;</div><div>name:String<br>image:String</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/126","y":"(h-30)*79/126+30"},"text":"1. name不能超过10个字符<div>2. image不能为null</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":19,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1519,"h":156,"y":2024.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*79/126+30"},{"x":"w","action":"line","y":"(h-30)*79/126+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"RwizYdqDFa234946","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"VdxoucZHnZ117196":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"Credential"},{"position":{"w":"w-20","x":"10","h":"(h-30)*128/175","y":30},"text":"credentialId:IdentifierId&lt;Long&gt;<div>activityId:IdentifierId&lt;Long&gt;</div><div>userId: UserId</div><div>duration: CredentialDuration</div><div>surplusCount:Integer</div><div>useCode:String</div><div>status:CredentialStatus</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/175","y":"(h-30)*128/175+30"},"text":"+ use(userId UserId<span style=\"font-size: inherit;\">)</span><div><span style=\"font-size: inherit;\">+ invalid();</span></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":135,"heights":[30,"(h-50)/2","(h-50)/2"],"w":230,"x":2195.4761872972763,"h":205,"y":4028.0339347542117,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*128/175+30"},{"x":"w","action":"line","y":"(h-30)*128/175+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"VdxoucZHnZ117196","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"ryfFMaLhJg560012":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"DrawPoolItemAddedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"drawPoolId:IdentifierId&lt;Long&gt;<br>name:String<br>image:String<br>itemType:ItemType<br>inventory:Inventory<br>probability:Probability","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":58,"w":245,"x":399,"h":142,"y":3136.6450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"ryfFMaLhJg560012","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"BZOJqHCaJF558659":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"创建DrawPool<span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*95/174","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>currencyId:IdentifierId&lt;Long&gt;</div><div>amount:Integer</div><div>drawStrategy:DrawStrategy</div><div>name;String</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/174","y":"(h-30)*95/174+30"},"text":"1. 只能绑定awardType为DRAW的Activity<div>2. 未指定currentId的时候使用默认系统的积分类型</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":15,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":49,"h":204,"y":1976.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*95/174+30"},{"x":"w","action":"line","y":"(h-30)*95/174+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"BZOJqHCaJF558659","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"KrGsOTeBlt456929":{"textBlock":[],"points":[{"x":2639.6189460231235,"y":852.9047491891043},{"x":2639.6189460231235,"y":755.4047491891043}],"dataAttributes":[],"props":{"zindex":79},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2540.237892046248,"y":852.9047491891043,"angle":3.1415926535897936,"id":"EemugaPmDz847572"},"id":"KrGsOTeBlt456929","text":"","to":{"x":2739,"y":755.4047491891043,"angle":0,"id":"TzzJCpvOYL582272"},"locked":false,"group":""},"vHXhEJUFTX738990":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"TaskCompletedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>taskId:IdentifierId:&lt;Long&gt;</div><div>userId;UserId</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":136,"w":245,"x":1221.6666739327568,"h":77,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"vHXhEJUFTX738990","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"ObYDxnLNop905173":{"textBlock":[],"points":[{"x":3698.333333333334,"y":2898.6142574161677},{"x":3787.7381243024556,"y":2898.6142574161677}],"dataAttributes":[],"props":{"zindex":125},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3698.333333333334,"y":2681.0834350585938,"angle":4.71238898038469,"id":"DtEivnkjjk428196"},"id":"ObYDxnLNop905173","text":"","to":{"x":3787.7381243024556,"y":3116.1450797737416,"angle":1.570796326794897,"id":"KKJQNQvgHV820777"},"locked":false,"group":""},"LOpIdXXAns917974":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"创建Activity命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/126","y":30},"text":"name:String<br>description:String<br>images:List&lt;String&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/126","y":"(h-30)*63/126+30"},"text":"1. 名称不能超过10字符<br>2. 描述不能超过50字符<br>3. 图片不能超过3张","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":1,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":644.0000000000002,"h":182,"y":117,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/126+30"},{"x":"w","action":"line","y":"(h-30)*63/126+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"LOpIdXXAns917974","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"zJZfThMqEf563331":{"textBlock":[],"points":[{"x":541.5,"y":2338.761904761905},{"x":1002,"y":2338.761904761905}],"dataAttributes":[],"props":{"zindex":104},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":541.5,"y":2180.52380952381,"angle":4.71238898038469,"id":"uioaBeOXxu420587"},"id":"zJZfThMqEf563331","text":"","to":{"x":1002,"y":2497,"angle":1.570796326794897,"id":"lLuvoOvOTF811240"},"locked":false,"group":""},"pIwOPWUFfd837960":{"textBlock":[],"points":[{"x":2601.5,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":87},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2601.5,"y":299,"angle":4.71238898038469,"id":"bwxHtcILiE576503"},"id":"pIwOPWUFfd837960","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"gKOGSvrpPe913675":{"textBlock":[],"points":[{"x":1002,"y":2943.322539886871},{"x":1251.5,"y":2943.322539886871}],"dataAttributes":[],"props":{"zindex":112},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1002,"y":2750,"angle":4.71238898038469,"id":"lLuvoOvOTF811240"},"id":"gKOGSvrpPe913675","text":"","to":{"x":1251.5,"y":3136.6450797737416,"angle":1.570796326794897,"id":"VMuvCTBNhw294861"},"locked":false,"group":""},"JdLKJiwGPu700229":{"textBlock":[],"points":[{"x":436.5,"y":3989.851198865221},{"x":794,"y":3989.851198865221}],"dataAttributes":[],"props":{"zindex":129},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":436.5,"y":3857.5678695084207,"angle":4.71238898038469,"id":"QvOHgTjvHy611598"},"id":"JdLKJiwGPu700229","text":"","to":{"x":794,"y":4122.134528222021,"angle":1.570796326794897,"id":"yOtCMNJMfD664830"},"locked":false,"group":""},"dahBThVMzB202136":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"TaskEnabledEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>taskId:IdentifierId:&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":73,"w":245,"x":479,"h":60,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"dahBThVMzB202136","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"WKoItkiRQV269524":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"开始Activity命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/93","y":30},"text":"activityId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/93","y":"(h-30)*30/93+30"},"text":"1. 校验Activity的持续时间，只有在持续时间之内才能开始。<br>2. 活动只能开始一次","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":5,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1744.0000000000002,"h":123,"y":176,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/93+30"},{"x":"w","action":"line","y":"(h-30)*30/93+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"WKoItkiRQV269524","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"DbADkILlxZ763942":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"CurrencyEnabledEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"currencyId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":71,"w":245,"x":4154.238124302456,"h":60,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"DbADkILlxZ763942","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"SSuDxqKfuh856654":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"修改Activity奖励类型<span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/94","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>awardType:AwardType</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/94","y":"(h-30)*47/94+30"},"text":"1. 修改奖励类型需要删除之前所有配置好的奖励","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":16,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3944,"h":124,"y":175,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*47/94+30"},{"x":"w","action":"line","y":"(h-30)*47/94+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"SSuDxqKfuh856654","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"ciyCJiBUnE076259":{"textBlock":[],"points":[{"x":3698.333333333334,"y":2898.6142574161677},{"x":3422.7381243024556,"y":2898.6142574161677}],"dataAttributes":[],"props":{"zindex":124},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3698.333333333334,"y":2681.0834350585938,"angle":4.71238898038469,"id":"DtEivnkjjk428196"},"id":"ciyCJiBUnE076259","text":"","to":{"x":3422.7381243024556,"y":3116.1450797737416,"angle":1.570796326794897,"id":"RFMbQWIYJR464085"},"locked":false,"group":""},"cFyvvkWApn616659":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"关闭Activity命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/77","y":30},"text":"activityId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/77","y":"(h-30)*30/77+30"},"text":"1. Activity只有开始之后才能关闭<div>2. 已经关闭的Activity不能再次关闭</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":6,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2109,"h":107,"y":192,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/77+30"},{"x":"w","action":"line","y":"(h-30)*30/77+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"cFyvvkWApn616659","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"yPPgzzdiNJ805974":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"RedeemPoolCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>redeemPoolId:IdentifierId&lt;Long&gt;</div>activityId:IdentifierId&lt;Long&gt;<br>name:String","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":63,"w":245,"x":2565.2381243024556,"h":93,"y":3116.1450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"yPPgzzdiNJ805974","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"lpiZSJQROM551327":{"textBlock":[],"points":[{"x":3429,"y":2320.303622291202},{"x":3698.333333333334,"y":2320.303622291202}],"dataAttributes":[],"props":{"zindex":118},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3429,"y":2180.52380952381,"angle":4.71238898038469,"id":"ubQYuxsoHB892013"},"id":"lpiZSJQROM551327","text":"","to":{"x":3698.333333333334,"y":2460.0834350585938,"angle":1.570796326794897,"id":"DtEivnkjjk428196"},"locked":false,"group":""},"cKMGfLlaPs418541":{"textBlock":[],"points":[{"x":3331.5,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":89},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3331.5,"y":299,"angle":4.71238898038469,"id":"ofUgXKVOqF993570"},"id":"cKMGfLlaPs418541","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"VIMEykIcjy792360":{"textBlock":[],"points":[{"x":3934.4045343191965,"y":4385.6005934678105},{"x":4276.738124302456,"y":4385.6005934678105}],"dataAttributes":[],"props":{"zindex":148},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3934.4045343191965,"y":4227,"angle":4.71238898038469,"id":"AjjbeGOvKP797477"},"id":"VIMEykIcjy792360","text":"","to":{"x":4276.738124302456,"y":4544.201186935622,"angle":1.570796326794897,"id":"DbADkILlxZ763942"},"locked":false,"group":""},"EemugaPmDz847572":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"Activity"},{"position":{"w":"w-20","x":"10","h":"(h-30)*128/272","y":30},"text":"activityId:IdentiferId&lt;Long&gt;<div>activityInfo:ActivityInfo</div><div>status:ActivityStatus</div><div>duration:ActivityDuration</div><div>countLimit:CountLimit</div><div>useCredential:Boolean</div><div>awardType: AwardType</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*144/272","y":"(h-30)*128/272+30"},"text":"modifyInfo(activityInfo: ActivityInfo);<div>modifyDuration(newDuration:ActivityDuration);</div><div>modifyCountLimit(newLimit: CountLimit);</div><div>modifyCredential(useCredential: Bolean);</div><div>modyfiAwardType(awardType: AwardType);<br><div>publish();</div><div>start();</div><div>close();</div></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":75,"heights":[30,"(h-50)/2","(h-50)/2"],"w":415.47623225620805,"x":2124.7618920462473,"h":302,"y":701.9047491891043,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*128/272+30"},{"x":"w","action":"line","y":"(h-30)*128/272+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"EemugaPmDz847572","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"fIRcOckqvf932271":{"textBlock":[],"points":[{"x":1866.5000000000002,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":82},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1866.5000000000002,"y":299,"angle":4.71238898038469,"id":"WKoItkiRQV269524"},"id":"fIRcOckqvf932271","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"vhXgnyrRLf134977":{"textBlock":[],"points":[{"x":1271.5,"y":2338.761904761905},{"x":1002,"y":2338.761904761905}],"dataAttributes":[],"props":{"zindex":106},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1271.5,"y":2180.52380952381,"angle":4.71238898038469,"id":"xzGSoGdCQO225290"},"id":"vhXgnyrRLf134977","text":"","to":{"x":1002,"y":2497,"angle":1.570796326794897,"id":"lLuvoOvOTF811240"},"locked":false,"group":""},"hSgReIhhFY780579":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"停用Task命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":30},"text":"taskId:IdentiferId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":"(h-30)*30/60+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":34,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1049,"h":90,"y":3767.5678695084207,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/60+30"},{"x":"w","action":"line","y":"(h-30)*30/60+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"hSgReIhhFY780579","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"jerBbuEzAH618194":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityInfoModifedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":40,"w":245,"x":3552.333333333334,"h":60,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"jerBbuEzAH618194","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"RcbSTDIIHy627803":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"TaskDeactivatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>taskId:IdentifierId:&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":74,"w":245,"x":851.5,"h":60,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"RcbSTDIIHy627803","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"bBWTzBBoVi267991":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"创建凭证命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*95/125","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>userId:UserId<br>validDuration:CredentialDuration</div><div>suplusCount:Integer</div><div>useCode:String</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/125","y":"(h-30)*95/125+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":13,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2009,"h":155,"y":3690.2952540013703,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*95/125+30"},{"x":"w","action":"line","y":"(h-30)*95/125+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"bBWTzBBoVi267991","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"vXzUzgLscn043935":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityStartedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":38,"w":245,"x":2817.333333333333,"h":60,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"vXzUzgLscn043935","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"kFrpsrbIQf621998":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"作废凭证命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":"(h-30)*30/60+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":14,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2379,"h":90,"y":3755.2952540013703,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/60+30"},{"x":"w","action":"line","y":"(h-30)*30/60+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"kFrpsrbIQf621998","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"bxoyAyotVf808482":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":47,"y":"0"},"text":"RedeemPoolItemCurrencyModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-47","y":47},"text":"redeemPoolId:IdentifierId&lt;Long&gt;<br>redeemPookItemId:IdentifierId&lt;Long<br>currencyId:IdentifierId&lt;Long&gt;<br>amount:Integer","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":68,"w":245,"x":4399.238124302456,"h":142,"y":3116.1450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":47},{"x":"w","action":"line","y":47}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"bxoyAyotVf808482","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"aghXGMGrXg425071":{"textBlock":[],"points":[{"x":2310.4761872972763,"y":4388.6175608449175},{"x":2501.5,"y":4388.6175608449175}],"dataAttributes":[],"props":{"zindex":141},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2310.4761872972763,"y":4233.033934754212,"angle":4.71238898038469,"id":"VdxoucZHnZ117196"},"id":"aghXGMGrXg425071","text":"","to":{"x":2501.5,"y":4544.201186935622,"angle":1.570796326794897,"id":"QYKygzAVns284298"},"locked":false,"group":""},"WXQpDFFSSq442058":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityParticipatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>userId:UserId<br>credential：Credential</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":41,"w":245,"x":3917.333333333334,"h":93,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"WXQpDFFSSq442058","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"kdnlMwGonp112079":{"textBlock":[],"points":[{"x":3549.833333333334,"y":3950.147627000685},{"x":3934.4045343191965,"y":3950.147627000685}],"dataAttributes":[],"props":{"zindex":143},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3549.833333333334,"y":3813.2952540013703,"angle":4.71238898038469,"id":"vJjXvidbYL669133"},"id":"kdnlMwGonp112079","text":"","to":{"x":3934.4045343191965,"y":4087,"angle":1.570796326794897,"id":"AjjbeGOvKP797477"},"locked":false,"group":""},"FpyDenZWCj929279":{"textBlock":[],"points":[{"x":1002,"y":2943.322539886871},{"x":1616.5,"y":2943.322539886871}],"dataAttributes":[],"props":{"zindex":113},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1002,"y":2750,"angle":4.71238898038469,"id":"lLuvoOvOTF811240"},"id":"FpyDenZWCj929279","text":"","to":{"x":1616.5,"y":3136.6450797737416,"angle":1.570796326794897,"id":"XIfmXnLKNU999510"},"locked":false,"group":""},"ondsnwzRqk983660":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":1401.5,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":93},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"ondsnwzRqk983660","text":"","to":{"x":1401.5,"y":1420.3549202262584,"angle":1.570796326794897,"id":"ZfGLTFovPa327115"},"locked":false,"group":""},"DfSJKcmzfi998366":{"textBlock":[],"points":[{"x":1641.5,"y":2338.761904761905},{"x":1002,"y":2338.761904761905}],"dataAttributes":[],"props":{"zindex":107},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1641.5,"y":2180.52380952381,"angle":4.71238898038469,"id":"RwizYdqDFa234946"},"id":"DfSJKcmzfi998366","text":"","to":{"x":1002,"y":2497,"angle":1.570796326794897,"id":"lLuvoOvOTF811240"},"locked":false,"group":""},"jZjjiVbcAh599165":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"创建Redeem<span style=\"font-size:inherit;\">Pool</span><span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/110","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>name:String</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/110","y":"(h-30)*47/110+30"},"text":"1. 只能绑定awardType为REDEEM的Activity<div><br></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":22,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2571.5,"h":140,"y":2040.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*47/110+30"},{"x":"w","action":"line","y":"(h-30)*47/110+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"jZjjiVbcAh599165","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"ihTkfYWPwM746643":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"参与Activity命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/93","y":30},"text":"activityId:IdentifierId&lt;Long&gt;<br>userId:UserId<br>credential:Credential","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/93","y":"(h-30)*63/93+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":11,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2844,"h":123,"y":176,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/93+30"},{"x":"w","action":"line","y":"(h-30)*63/93+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"ihTkfYWPwM746643","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"AooYgFUcjq560114":{"textBlock":[],"points":[{"x":2966.5,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":88},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2966.5,"y":299,"angle":4.71238898038469,"id":"ihTkfYWPwM746643"},"id":"AooYgFUcjq560114","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"jZWKISNPGL835200":{"textBlock":[],"points":[{"x":2231.5,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":83},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2231.5,"y":299,"angle":4.71238898038469,"id":"cFyvvkWApn616659"},"id":"jZWKISNPGL835200","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"TgaZGPdNLL081293":{"textBlock":[],"points":[{"x":171.5,"y":2338.761904761905},{"x":1002,"y":2338.761904761905}],"dataAttributes":[],"props":{"zindex":103},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":171.5,"y":2180.52380952381,"angle":4.71238898038469,"id":"BZOJqHCaJF558659"},"id":"TgaZGPdNLL081293","text":"","to":{"x":1002,"y":2497,"angle":1.570796326794897,"id":"lLuvoOvOTF811240"},"locked":false,"group":""},"AjjbeGOvKP797477":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"Currency"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/110","y":30},"text":"<div>currencyId:IdentifierId&lt;Long&gt;</div>currencyInfo:CurrencyInfo<div>status: CurrencyStatus</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/110","y":"(h-30)*63/110+30"},"text":"+ invalid()<div>+ enable()</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":142,"heights":[30,"(h-50)/2","(h-50)/2"],"w":306.42857142857156,"x":3781.1905343191966,"h":140,"y":4087.381068638393,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/110+30"},{"x":"w","action":"line","y":"(h-30)*63/110+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"AjjbeGOvKP797477","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"InuDzMWTBp280178":{"textBlock":[],"points":[{"x":3698.333333333334,"y":2898.6142574161677},{"x":2687.7381243024556,"y":2898.6142574161677}],"dataAttributes":[],"props":{"zindex":122},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3698.333333333334,"y":2681.0834350585938,"angle":4.71238898038469,"id":"DtEivnkjjk428196"},"id":"InuDzMWTBp280178","text":"","to":{"x":2687.7381243024556,"y":3116.1450797737416,"angle":1.570796326794897,"id":"yPPgzzdiNJ805974"},"locked":false,"group":""},"VzbDOmkqEV949935":{"textBlock":[],"points":[{"x":1501.5000000000002,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":84},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1501.5000000000002,"y":299,"angle":4.71238898038469,"id":"SfjGOrkHLn652428"},"id":"VzbDOmkqEV949935","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"CRTqIOZvbD078510":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"RedeemPoolCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"redeemPoolItemId:IdentiferId&lt;Long&gt;<div>redeemPoolId:IdentifierId&lt;Long&gt;<br>name:String<br>image:String<br>itemType:ItemType<br>inventory:Inventory<br>currencyId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":64,"w":245,"x":2935.2381243024556,"h":174,"y":3116.1450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"CRTqIOZvbD078510","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"RWjWPhxaPB871885":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":3674.833333333334,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":100},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"RWjWPhxaPB871885","text":"","to":{"x":3674.833333333334,"y":1420.3549202262584,"angle":1.570796326794897,"id":"jerBbuEzAH618194"},"locked":false,"group":""},"GNBGegtEqs768938":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"DrawPoolItemDeletedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"drawPoolId:IdentifierId&lt;Long&gt;<br>drawItemId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":59,"w":245,"x":764,"h":77,"y":3136.6450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"GNBGegtEqs768938","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"FrtoyyconN183641":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">修改DrawItem库存命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/93","y":30},"text":"<div>drawPoolId:IdentifierId&lt;Long&gt;<br>drawPoolItemId:Identifier&lt;Long&gt;</div><div>inventory:Inventory</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/93","y":"(h-30)*63/93+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":21,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1879,"h":123,"y":2057.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/93+30"},{"x":"w","action":"line","y":"(h-30)*63/93+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"FrtoyyconN183641","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"RFMbQWIYJR464085":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"RedeemPoolItemDeletedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"redeemPoolId:IdentifierId&lt;Long&gt;<br>redeemPoolItemId:Identifier&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":65,"w":245,"x":3300.2381243024556,"h":77,"y":3116.1450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"RFMbQWIYJR464085","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"mXjVbPIXoc369092":{"textBlock":[],"points":[{"x":4159,"y":2320.303622291202},{"x":3698.333333333334,"y":2320.303622291202}],"dataAttributes":[],"props":{"zindex":120},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":4159,"y":2180.52380952381,"angle":4.71238898038469,"id":"cQUfxFnlrC934260"},"id":"mXjVbPIXoc369092","text":"","to":{"x":3698.333333333334,"y":2460.0834350585938,"angle":1.570796326794897,"id":"DtEivnkjjk428196"},"locked":false,"group":""},"khyLrQXdjy025245":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":4039.833333333334,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":101},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"khyLrQXdjy025245","text":"","to":{"x":4039.833333333334,"y":1420.3549202262584,"angle":1.570796326794897,"id":"WXQpDFFSSq442058"},"locked":false,"group":""},"bQjdavBrfY893874":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityClosedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":39,"w":245,"x":3182.333333333334,"h":60,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"bQjdavBrfY893874","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"SqabLzTBBp465726":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"RedeemPoolItemInfoModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"redeemPoolId:IdentifierId&lt;Long&gt;<br>redeemPookItemId:IdentifierId&lt;Long&gt;<br>name:String<br>image:String","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":67,"w":245,"x":4030.2381243024556,"h":125,"y":3116.1450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"SqabLzTBBp465726","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"uioaBeOXxu420587":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">添加DrawItem命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*112/224","y":30},"text":"drawPoolId:IdentifierId&lt;Long&gt;<div>name:String</div><div>image:String</div><div>itemType:ItemType</div><div>inventory:Inventory</div><div>probability:Probability</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*112/224","y":"(h-30)*112/224+30"},"text":"1. name不能超过10个字符<div>2. image不能为null</div><div>3. inventory不能为null，且存在INFINITE选择</div><div>4. probability根据DrawPool的drawStrategy选择</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":17,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":419,"h":254,"y":1926.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*112/224+30"},{"x":"w","action":"line","y":"(h-30)*112/224+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"uioaBeOXxu420587","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"EQTQrTusXB941587":{"textBlock":[],"points":[{"x":794,"y":4443.667857578821},{"x":974,"y":4443.667857578821}],"dataAttributes":[],"props":{"zindex":134},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":794,"y":4343.134528222021,"angle":4.71238898038469,"id":"yOtCMNJMfD664830"},"id":"EQTQrTusXB941587","text":"","to":{"x":974,"y":4544.201186935622,"angle":1.570796326794897,"id":"RcbSTDIIHy627803"},"locked":false,"group":""},"DHCXbcFqXI164106":{"textBlock":[],"points":[{"x":3934.4045343191965,"y":4385.6005934678105},{"x":3934.4048200334823,"y":4385.6005934678105}],"dataAttributes":[],"props":{"zindex":147},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3934.4045343191965,"y":4227,"angle":4.71238898038469,"id":"AjjbeGOvKP797477"},"id":"DHCXbcFqXI164106","text":"","to":{"x":3934.4048200334823,"y":4544.201186935622,"angle":1.570796326794897,"id":"bdaDtnxRnD243236"},"locked":false,"group":""},"drWvGVthFB846789":{"textBlock":[],"points":[{"x":2131.5,"y":3936.664594377791},{"x":2310.4761872972763,"y":3936.664594377791}],"dataAttributes":[],"props":{"zindex":138},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2131.5,"y":3845.2952540013703,"angle":4.71238898038469,"id":"bBWTzBBoVi267991"},"id":"drWvGVthFB846789","text":"","to":{"x":2310.4761872972763,"y":4028.0339347542117,"angle":1.570796326794897,"id":"VdxoucZHnZ117196"},"locked":false,"group":""},"TUfiQSaLuu810564":{"textBlock":[],"points":[{"x":3934.4045343191965,"y":4385.6005934678105},{"x":3541.7381243024556,"y":4385.6005934678105}],"dataAttributes":[],"props":{"zindex":146},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3934.4045343191965,"y":4227,"angle":4.71238898038469,"id":"AjjbeGOvKP797477"},"id":"TUfiQSaLuu810564","text":"","to":{"x":3541.7381243024556,"y":4544.201186935622,"angle":1.570796326794897,"id":"pJKsNaIAvy549117"},"locked":false,"group":""},"QvOHgTjvHy611598":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"创建Task命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*112/240","y":30},"text":"<div><div>name:String</div></div><div>currencyId:IdentifierId&lt;Long&gt;</div><div>reward:Integer</div><div>completeEventClass:String</div><div>Duration:TaskDuration</div><div>activityId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*128/240","y":"(h-30)*112/240+30"},"text":"1. currency必须存在<div>2. 奖励数额不能为小于0</div><div>3. 创建的时候需要校验Class是否存在</div><div>4. 如果当前任务绑定了Activity，则Duration默认为Activity的Duration，但是自定义Duration应该为Activity Duration的子区间</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":32,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":314,"h":270,"y":3587.5678695084207,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*112/240+30"},{"x":"w","action":"line","y":"(h-30)*112/240+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"QvOHgTjvHy611598","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"HCyNHUlTth629216":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"修改Activity凭证<span style=\"font-size:inherit;\">限制</span><span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/77","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>useCredential:boolean</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/77","y":"(h-30)*47/77+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":12,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3579,"h":107,"y":192,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*47/77+30"},{"x":"w","action":"line","y":"(h-30)*47/77+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"HCyNHUlTth629216","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"jznznVfHxm827217":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":47,"y":"0"},"text":"DrawPoolItemInventoryModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-47","y":47},"text":"drawPoolId:IdentifierId&lt;Long&gt;<br>drawPoolItemId:Identifier&lt;Long&gt;<br>inventory:Inventory","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":62,"w":245,"x":1859,"h":110,"y":3136.6450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":47},{"x":"w","action":"line","y":47}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"jznznVfHxm827217","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"DtEivnkjjk428196":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"RedeemPool"},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/191","y":30},"text":"<div>reddemPoolId:IdentifierId&lt;Long&gt;</div>name:String<div>activityId:IdentifierId&lt;Long&gt;</div><div>redeemItems:List&lt;RedeemItem&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*112/191","y":"(h-30)*79/191+30"},"text":"+ addItem(ItemInfo: ItemInfo, inventory: Inventory, amount RedeemAmount): IdentiferId&lt;Long&gt;<div>+ deleteItem(itemId: IdentifierId&lt;Long&gt;)</div><div>+ modifyItemInventory(itemId IdentifierId&lt;Long, inventory：Inventory&gt;)</div><div>+ modifyItemInfo(itemId:IdentifierId&lt;Long,&gt; info:RedeemItemInfo)</div><div>+ modifyAmount(amount: RedemAmount)</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":115,"heights":[30,"(h-50)/2","(h-50)/2"],"w":542,"x":3427.333333333334,"h":221,"y":2460.0834350585938,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*79/191+30"},{"x":"w","action":"line","y":"(h-30)*79/191+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"DtEivnkjjk428196","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"UlVwnWBAKa034907":{"textBlock":[],"points":[{"x":2001.5,"y":2410.4285459972566,"fixed":true},{"x":1002,"y":2410.4285459972566,"fixed":true}],"dataAttributes":[],"props":{"zindex":108},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2001.5,"y":2180.52380952381,"angle":4.71238898038469,"id":"FrtoyyconN183641"},"id":"UlVwnWBAKa034907","text":"","to":{"x":1002,"y":2497,"angle":1.570796326794897,"id":"lLuvoOvOTF811240"},"locked":false,"group":""},"FSaUJRXYjE837804":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>name:String<br>description:String<br>image:List&lt;String&gt;<div><br></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":35,"w":245,"x":1717.3333333333333,"h":125,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"FSaUJRXYjE837804","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"lLuvoOvOTF811240":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"DrawPool"},{"position":{"w":"w-20","x":"10","h":"(h-30)*128/223","y":30},"text":"<div>drawPoolId:IdentifierId&lt;Long&gt;</div>name:String<br>drawStrategy:DrawStrategy<div>activityId;IdentifierId&lt;Long&gt;</div><div>currencyId:IdentiferId&lt;Long&gt;</div><div>amount:Integer</div><div>drawItems:List&lt;DrawItem&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*95/223","y":"(h-30)*128/223+30"},"text":"+ addtem(DrawIetm DrawItem): IdentifierId&lt;Long&gt;;<div>+ deleteItem(drawPoolItemId IdentifierId&lt;Long&gt;)</div><div>+ modifyItemProbability(itemId IdentifierId&lt;LOng&gt;);</div><div>+ modifyItemInfo(itemId: IdentifierId&lt;Long&gt;);</div><div>+ modify<span style=\"font-size: inherit;\">ItemInventory(itemId:IdentiiferId&lt;Lonmg&gt;, Inventory)</span></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":102,"heights":[30,"(h-50)/2","(h-50)/2"],"w":436,"x":784,"h":253,"y":2497.2222900390625,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*128/223+30"},{"x":"w","action":"line","y":"(h-30)*128/223+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"lLuvoOvOTF811240","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"ZfdrkBhKsv391218":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":1036.5,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":94},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"ZfdrkBhKsv391218","text":"","to":{"x":1036.5,"y":1420.3549202262584,"angle":1.570796326794897,"id":"HuzvlDTUeg310194"},"locked":false,"group":""},"QYKygzAVns284298":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"CredentialInvalidEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"activityId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":56,"w":245,"x":2379,"h":60,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"QYKygzAVns284298","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"wBYUJQiIrN836104":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityInfo"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"name:String<div>description:String</div><div>images:List&lt;String&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":76,"w":230,"x":1466.6666739327568,"h":100,"y":701.9047491891043,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{},"theme":{},"id":"wBYUJQiIrN836104","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"vbtGqZYfkq806170":{"textBlock":[],"points":[{"x":766.5000000000002,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":86},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":766.5000000000002,"y":299,"angle":4.71238898038469,"id":"LOpIdXXAns917974"},"id":"vbtGqZYfkq806170","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"mcJJxpebCU407595":{"textBlock":[],"points":[{"x":4066.5,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":91},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":4066.5,"y":299,"angle":4.71238898038469,"id":"SSuDxqKfuh856654"},"id":"mcJJxpebCU407595","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"EhAbMUjcTs306641":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityLimitCountModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;<br>countLimitType:ParticipateCountLimitType<br>limitCount:Integer</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":42,"w":245,"x":544,"h":109,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"EhAbMUjcTs306641","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"xzGSoGdCQO225290":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">修改DrawItem概率命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/110","y":30},"text":"drawPoolId:IdentifierId&lt;Long&gt;<div>drawItemId:IdentifierId&lt;Long&gt;<div>probability:Probabiliyu</div></div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/110","y":"(h-30)*63/110+30"},"text":"1. probability根据DrawStrategy进行选择","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":18,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1149,"h":140,"y":2040.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/110+30"},{"x":"w","action":"line","y":"(h-30)*63/110+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"xzGSoGdCQO225290","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"fzzmPhSBQq143912":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">修改RedeemItem库存命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/93","y":30},"text":"<div>redeemPoolId:IdentifierId&lt;Long&gt;<br>redeemPoolItemId:Identifier&lt;Long&gt;</div><div>inventory:Inventory</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/93","y":"(h-30)*63/93+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":25,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3671.5,"h":123,"y":2057.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/93+30"},{"x":"w","action":"line","y":"(h-30)*63/93+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"fzzmPhSBQq143912","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"uhMwkvFjsV012898":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">修改RedeemItem兑换货币命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*95/125","y":30},"text":"<div>redeemPoolId:IdentifierId&lt;Long&gt;<br></div><div>redeemPookItemId:IdentifierId&lt;Long</div><div>currencyId:IdentifierId&lt;Long&gt;</div><div>amount:Integer</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/125","y":"(h-30)*95/125+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":27,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":4405.5,"h":155,"y":2025.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*95/125+30"},{"x":"w","action":"line","y":"(h-30)*95/125+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"uhMwkvFjsV012898","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"qOCIwrPKse699962":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"TaskCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>taskId:IdentifierId:&lt;Long&gt;</div>name:String<br>currencyId:IdentifierId&lt;Long&gt;<br>reward:Integer<br>completeEventClass:String<br>Duration:TaskDuration<br>activityId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":72,"w":245,"x":116.5,"h":158,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"qOCIwrPKse699962","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"OQEUKrErbX138297":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":2939.833333333333,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":98},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"OQEUKrErbX138297","text":"","to":{"x":2939.833333333333,"y":1420.3549202262584,"angle":1.570796326794897,"id":"vXzUzgLscn043935"},"locked":false,"group":""},"guUzgNPHRm790396":{"textBlock":[],"points":[{"x":1910.7142829895022,"y":852.9047491891043},{"x":1910.7142829895022,"y":751.9047491891043}],"dataAttributes":[],"props":{"zindex":80},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2124.7618920462473,"y":852.9047491891043,"angle":0,"id":"EemugaPmDz847572"},"id":"guUzgNPHRm790396","text":"","to":{"x":1696.6666739327568,"y":751.9047491891043,"angle":3.1415926535897936,"id":"wBYUJQiIrN836104"},"locked":false,"group":""},"fLcKQVdjGE365625":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"添加RedeemItem<span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*112/191","y":30},"text":"<div>redeemPoolId:IdentifierId&lt;Long&gt;</div><div>name:String<br>image:String<br>itemType:ItemType<br>inventory:Inventory</div><div>currencyId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/191","y":"(h-30)*112/191+30"},"text":"1. 只能绑定awardType为REDEEM的Activity<div>2. 未指定currentId的时候使用默认系统的积分类型</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":23,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":2941.5,"h":221,"y":1959.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*112/191+30"},{"x":"w","action":"line","y":"(h-30)*112/191+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"fLcKQVdjGE365625","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"udsPtImfsw201247":{"textBlock":[],"points":[{"x":1171.5,"y":3989.851198865221},{"x":794,"y":3989.851198865221}],"dataAttributes":[],"props":{"zindex":131},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1171.5,"y":3857.5678695084207,"angle":4.71238898038469,"id":"hSgReIhhFY780579"},"id":"udsPtImfsw201247","text":"","to":{"x":794,"y":4122.134528222021,"angle":1.570796326794897,"id":"yOtCMNJMfD664830"},"locked":false,"group":""},"cQUfxFnlrC934260":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">修改RedeemItem基本信息命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*95/142","y":30},"text":"<div>redeemPoolId:IdentifierId&lt;Long&gt;<br></div><div>redeemPookItemId:IdentifierId&lt;Long&gt;</div><div>name:String<br>image:String</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/142","y":"(h-30)*95/142+30"},"text":"1. name不能超过10个字符<div>2. image不能为null</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":26,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":4036.5,"h":172,"y":2008.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*95/142+30"},{"x":"w","action":"line","y":"(h-30)*95/142+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"cQUfxFnlrC934260","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"GPiWEfwAnT922078":{"textBlock":[],"points":[{"x":4284.833333333334,"y":3950.147627000685},{"x":3934.4045343191965,"y":3950.147627000685}],"dataAttributes":[],"props":{"zindex":145},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":4284.833333333334,"y":3813.2952540013703,"angle":4.71238898038469,"id":"nTmUlYuoPc632864"},"id":"GPiWEfwAnT922078","text":"","to":{"x":3934.4045343191965,"y":4087,"angle":1.570796326794897,"id":"AjjbeGOvKP797477"},"locked":false,"group":""},"AaubbjafOH415946":{"textBlock":[],"points":[{"x":2501.5,"y":3936.664594377791},{"x":2310.4761872972763,"y":3936.664594377791}],"dataAttributes":[],"props":{"zindex":139},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2501.5,"y":3845.2952540013703,"angle":4.71238898038469,"id":"kFrpsrbIQf621998"},"id":"AaubbjafOH415946","text":"","to":{"x":2310.4761872972763,"y":4028.0339347542117,"angle":1.570796326794897,"id":"VdxoucZHnZ117196"},"locked":false,"group":""},"nTmUlYuoPc632864":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"启用Currency命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":30},"text":"<div>currencyId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":"(h-30)*30/60+30"},"text":"<div><br></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":30,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":4162.333333333334,"h":90,"y":3723.2952540013703,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/60+30"},{"x":"w","action":"line","y":"(h-30)*30/60+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"nTmUlYuoPc632864","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"xqnDQFaThh098085":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"CredentialCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;<br>countLimitType:ParticipateCountLimitType<br>limitCount:Integer</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":55,"w":245,"x":2009,"h":109,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"xqnDQFaThh098085","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"lrYtzjBGXL092877":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityDurationModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;<br>startTime:LocalDateTime<br>endTime:LocalDateTime</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":36,"w":245,"x":2087.333333333333,"h":93,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"lrYtzjBGXL092877","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"tJHFKVkaJc944339":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":666.5,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":92},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"tJHFKVkaJc944339","text":"","to":{"x":666.5,"y":1420.3549202262584,"angle":1.570796326794897,"id":"EhAbMUjcTs306641"},"locked":false,"group":""},"NdQNePTWYf099275":{"textBlock":[],"points":[{"x":3698.333333333334,"y":2898.6142574161677},{"x":4521.738124302456,"y":2898.6142574161677}],"dataAttributes":[],"props":{"zindex":127},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3698.333333333334,"y":2681.0834350585938,"angle":4.71238898038469,"id":"DtEivnkjjk428196"},"id":"NdQNePTWYf099275","text":"","to":{"x":4521.738124302456,"y":3116.1450797737416,"angle":1.570796326794897,"id":"bxoyAyotVf808482"},"locked":false,"group":""},"lJkwVMgGVR269022":{"textBlock":[],"points":[{"x":1002,"y":2943.322539886871},{"x":521.5,"y":2943.322539886871}],"dataAttributes":[],"props":{"zindex":110},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1002,"y":2750,"angle":4.71238898038469,"id":"lLuvoOvOTF811240"},"id":"lJkwVMgGVR269022","text":"","to":{"x":521.5,"y":3136.6450797737416,"angle":1.570796326794897,"id":"ryfFMaLhJg560012"},"locked":false,"group":""},"TvUdylaWbK885161":{"textBlock":[],"points":[{"x":1002,"y":2943.322539886871},{"x":1981.5,"y":2943.322539886871}],"dataAttributes":[],"props":{"zindex":114},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1002,"y":2750,"angle":4.71238898038469,"id":"lLuvoOvOTF811240"},"id":"TvUdylaWbK885161","text":"","to":{"x":1981.5,"y":3136.6450797737416,"angle":1.570796326794897,"id":"jznznVfHxm827217"},"locked":false,"group":""},"PmvEhGUNOu933853":{"textBlock":[],"points":[{"x":4528,"y":2320.303622291202},{"x":3698.333333333334,"y":2320.303622291202}],"dataAttributes":[],"props":{"zindex":121},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":4528,"y":2180.52380952381,"angle":4.71238898038469,"id":"uhMwkvFjsV012898"},"id":"PmvEhGUNOu933853","text":"","to":{"x":3698.333333333334,"y":2460.0834350585938,"angle":1.570796326794897,"id":"DtEivnkjjk428196"},"locked":false,"group":""},"gLQczlFxUi822926":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">删除DrawItem命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/77","y":30},"text":"drawPoolId:IdentifierId&lt;Long&gt;<div>drawItemId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/77","y":"(h-30)*47/77+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":20,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":784,"h":107,"y":2073.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*47/77+30"},{"x":"w","action":"line","y":"(h-30)*47/77+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"gLQczlFxUi822926","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"vJjXvidbYL669133":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"创建Currency<span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/93","y":30},"text":"name:String<div>description:String</div><div><br></div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/93","y":"(h-30)*63/93+30"},"text":"<div><br></div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":28,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3427.333333333334,"h":123,"y":3690.2952540013703,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/93+30"},{"x":"w","action":"line","y":"(h-30)*63/93+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"vJjXvidbYL669133","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"VMuvCTBNhw294861":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":47,"y":"0"},"text":"DrawPoolItemProbabiltyModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-47","y":47},"text":"drawPoolId:IdentifierId&lt;Long&gt;<br>drawItemId:IdentifierId&lt;Long&gt;<br>probability:Probabiliyu","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":60,"w":245,"x":1129,"h":110,"y":3136.6450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":47},{"x":"w","action":"line","y":47}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"VMuvCTBNhw294861","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"wpwGBhbcwn663892":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"<span style=\"font-size:inherit;\">停用Currency命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/77","y":30},"text":"<div>currencyId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/77","y":"(h-30)*30/77+30"},"text":"<div>1. 存在start状态的Activity应用Currency时不可以停用</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":29,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3811.9048200334823,"h":107,"y":3706.2952540013703,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/77+30"},{"x":"w","action":"line","y":"(h-30)*30/77+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"wpwGBhbcwn663892","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"fXtLvJbZvo244861":{"textBlock":[],"points":[{"x":1136.5000000000002,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":85},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1136.5000000000002,"y":299,"angle":4.71238898038469,"id":"UFdNVLmcjk722479"},"id":"fXtLvJbZvo244861","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"JsczkBisxY263716":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":3304.833333333334,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":99},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"JsczkBisxY263716","text":"","to":{"x":3304.833333333334,"y":1420.3549202262584,"angle":1.570796326794897,"id":"bQjdavBrfY893874"},"locked":false,"group":""},"snXWmFIrdg725929":{"textBlock":[],"points":[{"x":794,"y":4443.667857578821},{"x":1344.1666739327568,"y":4443.667857578821}],"dataAttributes":[],"props":{"zindex":137},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":794,"y":4343.134528222021,"angle":4.71238898038469,"id":"yOtCMNJMfD664830"},"id":"snXWmFIrdg725929","text":"","to":{"x":1344.1666739327568,"y":4544.201186935622,"angle":1.570796326794897,"id":"vHXhEJUFTX738990"},"locked":false,"group":""},"QvaTqhTNDK953725":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"启用Task命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":30},"text":"taskId:IdentiferId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/60","y":"(h-30)*30/60+30"},"text":"<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":33,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":671.5,"h":90,"y":3767.5678695084207,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/60+30"},{"x":"w","action":"line","y":"(h-30)*30/60+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"QvaTqhTNDK953725","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"SfjGOrkHLn652428":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"发布Activity命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/109","y":30},"text":"activityId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/109","y":"(h-30)*30/109+30"},"text":"1. Activity只能从INIT状态转为PUBLISH状态<br>2. 发布活动会自动开启Activity<br>3. startTime不能为null","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":3,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1379.0000000000002,"h":139,"y":160,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*30/109+30"},{"x":"w","action":"line","y":"(h-30)*30/109+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"SfjGOrkHLn652428","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"mNkxWgGUUh473024":{"textBlock":[],"points":[{"x":3800,"y":2320.303622291202},{"x":3698.333333333334,"y":2320.303622291202}],"dataAttributes":[],"props":{"zindex":119},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3800,"angle":4.71238898038469,"y":2180.52380952381,"id":"fzzmPhSBQq143912"},"id":"mNkxWgGUUh473024","text":"","to":{"x":3698.333333333334,"y":2460.0834350585938,"angle":1.570796326794897,"id":"DtEivnkjjk428196"},"locked":false,"group":""},"uSWhtCGDDI081126":{"textBlock":[],"points":[{"x":3701.5,"y":500.45237459455217},{"x":2332.4998920462476,"y":500.45237459455217}],"dataAttributes":[],"props":{"zindex":90},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3701.5,"y":299,"angle":4.71238898038469,"id":"HCyNHUlTth629216"},"id":"uSWhtCGDDI081126","text":"","to":{"x":2332.4998920462476,"y":701.9047491891043,"angle":1.570796326794897,"id":"EemugaPmDz847572"},"locked":false,"group":""},"KfzNpFdMom006571":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityPublishedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":37,"w":245,"x":2452.333333333333,"h":60,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"KfzNpFdMom006571","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"HiLcqVxDis844549":{"textBlock":[],"points":[{"x":1910.7142829895022,"y":852.9047491891043},{"x":1910.7142829895022,"y":913.9047491891043}],"dataAttributes":[],"props":{"zindex":81},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2124.7618920462473,"y":852.9047491891043,"angle":0,"id":"EemugaPmDz847572"},"id":"HiLcqVxDis844549","text":"","to":{"x":1696.6666739327568,"y":913.9047491891043,"angle":3.1415926535897936,"id":"bOTYnkFxDO538123"},"locked":false,"group":""},"NnlgLHpJcL138674":{"textBlock":[],"points":[{"x":3698.333333333334,"y":2898.6142574161677},{"x":4152.738124302456,"y":2898.6142574161677}],"dataAttributes":[],"props":{"zindex":126},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3698.333333333334,"y":2681.0834350585938,"angle":4.71238898038469,"id":"DtEivnkjjk428196"},"id":"NnlgLHpJcL138674","text":"","to":{"x":4152.738124302456,"y":3116.1450797737416,"angle":1.570796326794897,"id":"SqabLzTBBp465726"},"locked":false,"group":""},"bdaDtnxRnD243236":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"CurrencyDeactivatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"currencyId:IdentifierId&lt;Long&gt;","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":70,"w":245,"x":3811.9048200334823,"h":60,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"bdaDtnxRnD243236","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"yOtCMNJMfD664830":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"Task"},{"position":{"w":"w-20","x":"10","h":"(h-30)*128/191","y":30},"text":"taskId:IdentifierId&lt;Long&gt;<div>name :String</div><div>reward:Integer</div><div>currencyId:IdentifierId&lt;Long&gt;</div><div>duration:TaskDuration</div><div>activityId:IdentifierId&lt;Long&gt;</div><div>completeEventClass:String</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/191","y":"(h-30)*128/191+30"},"text":"+ complete(userId UserId)<div>+ enable()</div><div>+deactivated()</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":128,"heights":[30,"(h-50)/2","(h-50)/2"],"w":230,"x":679,"h":221,"y":4122.134528222021,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*128/191+30"},{"x":"w","action":"line","y":"(h-30)*128/191+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"yOtCMNJMfD664830","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"pJKsNaIAvy549117":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"CurrencyCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"name:String<br>description:String<br>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":69,"w":245,"x":3419.2381243024556,"h":77,"y":4544.201186935622,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"pJKsNaIAvy549117","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"cjQnxKVCTP304390":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":2209.833333333333,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":96},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"cjQnxKVCTP304390","text":"","to":{"x":2209.833333333333,"y":1420.3549202262584,"angle":1.570796326794897,"id":"lrYtzjBGXL092877"},"locked":false,"group":""},"ubQYuxsoHB892013":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"删除RedeemItem<span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/126","y":30},"text":"redeemPoolId:IdentifierId&lt;Long&gt;<div>redeemPoolItemId:Identifier&lt;Long&gt;</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/126","y":"(h-30)*47/126+30"},"text":"1. 只能绑定awardType为REDEEM的Activity<div>2. 未指定currentId的时候使用默认系统的积分类型</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":24,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3306.5,"h":156,"y":2024.52380952381,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*47/126+30"},{"x":"w","action":"line","y":"(h-30)*47/126+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"ubQYuxsoHB892013","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"pKDtqzAtrz624046":{"textBlock":[],"points":[{"x":2332.4998920462476,"y":1212.1298347076813},{"x":1839.8333333333333,"y":1212.1298347076813}],"dataAttributes":[],"props":{"zindex":95},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2332.4998920462476,"y":1003.9047491891043,"angle":4.71238898038469,"id":"EemugaPmDz847572"},"id":"pKDtqzAtrz624046","text":"","to":{"x":1839.8333333333333,"y":1420.3549202262584,"angle":1.570796326794897,"id":"FSaUJRXYjE837804"},"locked":false,"group":""},"WeKCWCtDdV812707":{"textBlock":[],"points":[{"x":2694,"y":2320.303622291202},{"x":3698.333333333334,"y":2320.303622291202}],"dataAttributes":[],"props":{"zindex":116},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":2694,"y":2180.52380952381,"angle":4.71238898038469,"id":"jZjjiVbcAh599165"},"id":"WeKCWCtDdV812707","text":"","to":{"x":3698.333333333334,"y":2460.0834350585938,"angle":1.570796326794897,"id":"DtEivnkjjk428196"},"locked":false,"group":""},"KlPeOFUeIW673002":{"textBlock":[],"points":[{"x":794,"y":4443.667857578821},{"x":239,"y":4443.667857578821}],"dataAttributes":[],"props":{"zindex":133},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":794,"y":4343.134528222021,"angle":4.71238898038469,"id":"yOtCMNJMfD664830"},"id":"KlPeOFUeIW673002","text":"","to":{"x":239,"y":4544.201186935622,"angle":1.570796326794897,"id":"qOCIwrPKse699962"},"locked":false,"group":""},"bJyVcvvKoN848138":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"DrawPoolCreatedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"activityId:IdentifierId&lt;Long&gt;<br>currencyId:IdentifierId&lt;Long&gt;<br>amount:Integer<br>drawStrategy:DrawStrategy<div>name:String</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":57,"w":245,"x":29,"h":125,"y":3136.6450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"bJyVcvvKoN848138","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"pUmRGOKeXK471018":{"textBlock":[],"points":[{"x":794,"y":4443.667857578821},{"x":601.5,"y":4443.667857578821}],"dataAttributes":[],"props":{"zindex":132},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":794,"y":4343.134528222021,"angle":4.71238898038469,"id":"yOtCMNJMfD664830"},"id":"pUmRGOKeXK471018","text":"","to":{"x":601.5,"y":4544.201186935622,"angle":1.570796326794897,"id":"dahBThVMzB202136"},"locked":false,"group":""},"bOTYnkFxDO538123":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityDuration"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"+ inActiveTime() : Boolean","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"接口","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":77,"w":230,"x":1466.6666739327568,"h":60,"y":883.9047491891043,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"interface","fillStyle":{},"theme":{},"id":"bOTYnkFxDO538123","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"TzzJCpvOYL582272":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"CountLimit"},{"position":{"w":"w-20","x":"10","h":"(h-30)*47/77","y":30},"text":"limitType;LimitType<div>count:Integer</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*30/77","y":"(h-30)*47/77+30"},"text":"+ participate(userId UserId);","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":78,"heights":[30,"(h-50)/2","(h-50)/2"],"w":230,"x":2739,"h":107,"y":701.9047491891043,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*47/77+30"},{"x":"w","action":"line","y":"(h-30)*47/77+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{},"theme":{},"id":"TzzJCpvOYL582272","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"HuzvlDTUeg310194":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityCredentialModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"activityId:IdentifierId&lt;Long&gt;<br>useCredential:boolean","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":43,"w":245,"x":914,"h":77,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"HuzvlDTUeg310194","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"OQnopmNUrY665927":{"textBlock":[],"points":[{"x":3064,"y":2320.303622291202},{"x":3698.333333333334,"y":2320.303622291202}],"dataAttributes":[],"props":{"zindex":117},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3064,"y":2180.52380952381,"angle":4.71238898038469,"id":"fLcKQVdjGE365625"},"id":"OQnopmNUrY665927","text":"","to":{"x":3698.333333333334,"y":2460.0834350585938,"angle":1.570796326794897,"id":"DtEivnkjjk428196"},"locked":false,"group":""},"UFdNVLmcjk722479":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"修改活动生效时间命令"},{"position":{"w":"w-20","x":"10","h":"(h-30)*63/175","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div>startTime:LocalDateTime<div>endTime:LocalDateTime</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*112/175","y":"(h-30)*63/175+30"},"text":"1. 开始时间和结束时间都为null表示永久生效<div>2. 开始时间为null表示发布开始</div><div>3. 结束时间为null表示没有结束时间<br>4. 均不为null，则开始时间不能晚于技术时间</div>","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":2,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":1014.0000000000002,"h":205,"y":94,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*63/175+30"},{"x":"w","action":"line","y":"(h-30)*63/175+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"UFdNVLmcjk722479","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"APsjVJuYII664915":{"textBlock":[],"points":[{"x":906.5,"y":2338.761904761905},{"x":1002,"y":2338.761904761905}],"dataAttributes":[],"props":{"zindex":105},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":906.5,"y":2180.52380952381,"angle":4.71238898038469,"id":"gLQczlFxUi822926"},"id":"APsjVJuYII664915","text":"","to":{"x":1002,"y":2497,"angle":1.570796326794897,"id":"lLuvoOvOTF811240"},"locked":false,"group":""},"HUTvptupHI266557":{"textBlock":[],"points":[{"x":3698.333333333334,"y":2898.6142574161677},{"x":3057.7381243024556,"y":2898.6142574161677}],"dataAttributes":[],"props":{"zindex":123},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3698.333333333334,"y":2681.0834350585938,"angle":4.71238898038469,"id":"DtEivnkjjk428196"},"id":"HUTvptupHI266557","text":"","to":{"x":3057.7381243024556,"y":3116.1450797737416,"angle":1.570796326794897,"id":"CRTqIOZvbD078510"},"locked":false,"group":""},"XIfmXnLKNU999510":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"DrawPoolItemInfoModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"drawPoolId:IdentifierId&lt;Long&gt;<br>drawPoolItemId:Identifier&lt;Long&gt;<br>name:String<br>image:String","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":61,"w":245,"x":1494,"h":109,"y":3136.6450797737416,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"XIfmXnLKNU999510","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"ZfGLTFovPa327115":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"ActivityAwardTypeModifiedEvent"},{"position":{"w":"w-20","x":"10","h":"h-30","y":30},"text":"activityId:IdentifierId&lt;Long&gt;<br>awardType:AwardType","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":44,"w":245,"x":1279,"h":77,"y":1420.3549202262584,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls_","fillStyle":{"color":"191,191,191","drawType":"none","type":"solid"},"theme":{},"id":"ZfGLTFovPa327115","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""},"HBqsgHdPnE774183":{"textBlock":[],"points":[{"x":1002,"y":2943.322539886871},{"x":151.5,"y":2943.322539886871}],"dataAttributes":[],"props":{"zindex":109},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":1002,"y":2750,"angle":4.71238898038469,"id":"lLuvoOvOTF811240"},"id":"HBqsgHdPnE774183","text":"","to":{"x":151.5,"y":3136.6450797737416,"angle":1.570796326794897,"id":"bJyVcvvKoN848138"},"locked":false,"group":""},"Udrkqtscpj157703":{"textBlock":[],"points":[{"x":3934.4048200334823,"y":3950.147627000685},{"x":3934.4045343191965,"y":3950.147627000685}],"dataAttributes":[],"props":{"zindex":144},"linkerType":"broken","lineStyle":{"lineWidth":1.5},"name":"linker","from":{"x":3934.4048200334823,"y":3813.2952540013703,"angle":4.71238898038469,"id":"wpwGBhbcwn663892"},"id":"Udrkqtscpj157703","text":"","to":{"x":3934.4045343191965,"y":4087,"angle":1.570796326794897,"id":"AjjbeGOvKP797477"},"locked":false,"group":""},"ofUgXKVOqF993570":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":"10","h":30,"y":"0"},"text":"修改Activity<span style=\"font-size:inherit;\">次数限制</span><span style=\"font-size:inherit;\">命令</span>"},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/158","y":30},"text":"<div>activityId:IdentifierId&lt;Long&gt;</div><div>countLimitType:ParticipateCountLimitType</div><div>limitCount:Integer</div>","fontStyle":{"textAlign":"left","bold":false}},{"position":{"w":"w-20","x":"10","h":"(h-30)*79/158","y":"(h-30)*79/158+30"},"text":"1. 当countLimit为INFINITE的时候设置limitCount的值为null<br>2. 当countLimitType部位INFINITE的时候limitCount不能为null","fontStyle":{"textAlign":"left","bold":false}}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"类","fontStyle":{"bold":true},"dataAttributes":[],"props":{"zindex":10,"heights":[30,"(h-50)/2","(h-50)/2"],"w":245,"x":3209,"h":188,"y":111,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":30},{"x":"w","action":"line","y":30},{"x":"0","action":"move","y":"(h-30)*79/158+30"},{"x":"w","action":"line","y":"(h-30)*79/158+30"}]},{"lineStyle":{"lineWidth":0},"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w","action":"line","y":"0"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"action":"close"}]}],"lineStyle":{"rounding":4,"lineWidth":1.5},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"cls","fillStyle":{"color":"148,224,225","drawType":"none","type":"solid"},"theme":{},"id":"ofUgXKVOqF993570","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"uml_class","locked":false,"group":""}},"page":{"padding":20,"backgroundColor":"transparent","orientation":"portrait","gridSize":15,"width":4958,"showGrid":true,"lineJumps":false,"height":4882},"version":704}},"meta":{"exportTime":"2025-09-16 17:07:45","member":"","diagramInfo":{"creator":"","created":"2025-09-16 14:40:52","modified":"2025-09-16 17:07:34","title":"market-聚合图","category":"uml"},"id":"68c90674db87250747ef06a2","type":"ProcessOn Schema File","version":"5.0"}}